---
import '../../style.css'
import { getFeed } from '../../data/feed'
import FeedItem from '../../components/FeedItem.astro'
import type {HydratedFeedItem} from '../../types'

type Props = {
  feedItem: HydratedFeedItem
}

export async function getStaticPaths() {
  const feed = await getFeed({ site: Astro.site })
  return feed.map((item: HydratedFeedItem) => {
    return { params: { item: item.slug }, props: {feedItem: item} }
  })
}

const { feedItem } = Astro.props;

---

<FeedItem {...feedItem} ></FeedItem>